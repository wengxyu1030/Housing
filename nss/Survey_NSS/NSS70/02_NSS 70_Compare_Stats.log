--------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\Housing_git\nss\Survey_NSS\02_NSS 70_Compare_Stats.log
  log type:  text
 opened on:  15 Nov 2020, 21:57:41

. 
.  
. ****************************************************************************
. * Compare with official NSS70 report. 
. ****************************************************************************
.  
.  **Official NSS70 Report
. /* Statement 3.1
> Households owning asset: rural 98.3% urban 93.5%
> Averate value of total assets (AVA) owned: rural: 1,006,985 urban 2,285,135
> */
. 
. /* Statement 3.4
> Households owning debt: rural 31.44% urban 22.37%
> Average amount of debt (AOD) owned: rural: 32522 urban 84625 (all households)
> */
. use "${root}\Data Output Files\NSS70_All.dta",clear

. 
. gen asset_dm = (asset > 0)*100

. gen debt_dm = (total_debt > 0)*100 

. 
. forvalues i = 0/1{
  2. eststo tab_urban_`i': estpost sum asset_dm asset debt_dm total_debt [aw = hhwgt] if urban == `i'
  3. }

             |  e(count)   e(sum_w)    e(mean)     e(Var)      e(sd)     e(min)     e(max)     e(sum) 
-------------+----------------------------------------------------------------------------------------
    asset_dm |     62135   3.12e+08   98.77035   121.4546   11.02065          0        100   3.08e+10 
       asset |     62135   3.12e+08    1043210   8.12e+12    2848736          0   2.51e+08   3.26e+14 
     debt_dm |     62135   3.12e+08   30.96812   2137.822   46.23659          0        100   9.67e+09 
  total_debt |     62135   3.12e+08   32017.53   2.84e+10   168638.9          0   1.82e+07   9.99e+12 

             |  e(count)   e(sum_w)    e(mean)     e(Var)      e(sd)     e(min)     e(max)     e(sum) 
-------------+----------------------------------------------------------------------------------------
    asset_dm |     48665   1.67e+08   95.97698    386.125   19.65006          0        100   1.61e+10 
       asset |     48665   1.67e+08    2352252   4.26e+14   2.06e+07          0   1.85e+09   3.94e+14 
     debt_dm |     48665   1.67e+08   21.64339   1695.937   41.18176          0        100   3.62e+09 
  total_debt |     48665   1.67e+08   83174.01   3.95e+11   628105.6          0   1.83e+08   1.39e+13 

. 
. label var asset_dm "Own Asset (%)"

. label var debt_dm "Own Debt (%)"

. label var asset "Average Asset"

. label var total_debt "Average Debt"

. 
. esttab tab_urban_0 tab_urban_1,cells(mean(fmt(%15.0fc))) label collabels(none) ///
>  mtitles("Rural" "Urban")

----------------------------------------------
                              (1)          (2)
                            Rural        Urban
----------------------------------------------
Own Asset (%)                  99           96
Average Asset           1,043,210    2,352,252
Own Debt (%)                   31           22
Average Debt               32,018       83,174
----------------------------------------------
Observations                62135        48665
----------------------------------------------

. 
.  
. clear matrix

. global pdf_tab "asset_dm asset debt_dm total_debt"

. eststo all: quietly estpost summarize $pdf_tab [aw=hhwgt]

. 
. unab vars : $pdf_tab 

. local num : word count `vars'

. matrix m = J(`num',4,0)

. local i = 1

. 
. foreach var in $pdf_tab {
  2. qui sum `var' [aw=hhwgt] if urban == 0,de
  3. matrix m[`i',1] = `r(mean)'
  4. qui sum `var' if urban == 0,de
  5. matrix m[`i',2] = `r(mean)'
  6. qui sum `var' [aw=hhwgt] if urban == 1,de
  7. matrix m[`i',3] = `r(mean)'
  8. qui sum `var' if urban == 1,de
  9. matrix m[`i',4] = `r(mean)'
 10. local i = `i' + 1
 11. }

. 
. 
. matrix rownames m = $pdf_tab

. matrix colnames m = Rural_w Rural_uw Urban_w Urban_uw

. matrix list m

m[4,4]
              Rural_w   Rural_uw    Urban_w   Urban_uw
  asset_dm  98.770353  99.559025  95.976983  98.101305
     asset  1043210.5  1276396.2  2352251.9  2427901.2
   debt_dm  30.968119  40.566508  21.643389  41.189767
total_debt  32017.532  43777.466  83174.014  132358.29

. 
. svmat m,names(col)

. gen name = _n

. 
. keep name Rural* Urban*

. drop if mi(Rural_w)
(110,796 observations deleted)

. 
. save "${r_output}\m_ast_lbt_pdf",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Data Output Files\m_ast_lbt_pdf.dta saved

. 
. import excel "C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Raw Data & Dictionaries\pdf_tab.xlsx", sheet("She
> et1") firstrow clear

. save "${r_output}\tab_pdf",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Data Output Files\tab_pdf.dta saved

. 
. merge 1:1 name using  "${r_output}\m_ast_lbt_pdf"
(note: variable name was byte, now float to accommodate using data's values)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 4  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. foreach sector in Rural Urban {
  2. gen `sector'_w_dt = (`sector'_w  - `sector'_pdf)/`sector'_pdf *100
  3. gen `sector'_uw_dt = (`sector'_uw - `sector'_pdf)/`sector'_pdf *100
  4. format `sector'* %9.1fc
  5. }

. 
. drop name

. 
. list

     +------------------------------------------------------------------------------------------------------------------------+
  1. |     name_full | Rural_pdf | Urban_pdf |   Rural_w |  Rural_uw |   Urban_w |  Urban_uw | Ru~_w_dt | Ru~uw_dt | Ur~_w_dt |
     | Own Asset (%) |      98.3 |      93.5 |      98.8 |      99.6 |      96.0 |      98.1 |      0.5 |      1.3 |      2.6 |
     |------------------------------------------------------------------------------------------------------------------------|
     |                                                        Ur~uw_dt                                                        |
     |                                                             4.9                                                        |
     +------------------------------------------------------------------------------------------------------------------------+

     +------------------------------------------------------------------------------------------------------------------------+
  2. |     name_full | Rural_pdf | Urban_pdf |   Rural_w |  Rural_uw |   Urban_w |  Urban_uw | Ru~_w_dt | Ru~uw_dt | Ur~_w_dt |
     | Average Asset | 1006985.0 | 2285135.0 | 1043210.4 | 1276396.3 | 2352251.8 | 2427901.3 |      3.6 |     26.8 |      2.9 |
     |------------------------------------------------------------------------------------------------------------------------|
     |                                                        Ur~uw_dt                                                        |
     |                                                             6.2                                                        |
     +------------------------------------------------------------------------------------------------------------------------+

     +------------------------------------------------------------------------------------------------------------------------+
  3. |     name_full | Rural_pdf | Urban_pdf |   Rural_w |  Rural_uw |   Urban_w |  Urban_uw | Ru~_w_dt | Ru~uw_dt | Ur~_w_dt |
     |  Own Debt (%) |      31.4 |      22.4 |      31.0 |      40.6 |      21.6 |      41.2 |     -1.5 |     29.0 |     -3.2 |
     |------------------------------------------------------------------------------------------------------------------------|
     |                                                        Ur~uw_dt                                                        |
     |                                                            84.1                                                        |
     +------------------------------------------------------------------------------------------------------------------------+

     +------------------------------------------------------------------------------------------------------------------------+
  4. |     name_full | Rural_pdf | Urban_pdf |   Rural_w |  Rural_uw |   Urban_w |  Urban_uw | Ru~_w_dt | Ru~uw_dt | Ur~_w_dt |
     |  Average Debt |  32,522.0 |  84,625.0 |  32,017.5 |  43,777.5 |  83,174.0 | 132,358.3 |     -1.6 |     34.6 |     -1.7 |
     |------------------------------------------------------------------------------------------------------------------------|
     |                                                        Ur~uw_dt                                                        |
     |                                                            56.4                                                        |
     +------------------------------------------------------------------------------------------------------------------------+

. 
. 
. ****************************************************************************
. * Compare to Housing Finance Landscape paper. 
. * https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2797680
. ****************************************************************************
. use "${root}\Data Output Files\NSS70_All.dta",clear

. 
. *summary statistics
. sum asset land_r land_u building_all building_resid livestock trspt agri non_farm shares fin_other gold fin_rec  

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       asset |    110,800     1782154    1.13e+07          0   1.85e+09
      land_r |    110,800    636851.5     3095437          0   2.49e+08
      land_u |    110,800    426206.2     4643134          0   1.28e+09
building_all |    110,800    529898.7     9350650          0   1.85e+09
building_r~d |    110,800    489770.9     9145890          0   1.85e+09
-------------+---------------------------------------------------------
   livestock |    110,800    13015.15    37743.58          0    2590000
       trspt |    110,800    48298.84    227621.3          0   2.07e+07
        agri |    110,800    3830.621    33418.16          0    7700000
    non_farm |    110,800           0           0          0          0
      shares |    110,800    1597.849     65972.4          0   1.21e+07
-------------+---------------------------------------------------------
   fin_other |    110,800    21566.55    169462.9          0   3.25e+07
        gold |    110,800    58081.17    154348.2          0   1.29e+07
     fin_rec |    110,800    3978.213    106074.3          0   2.00e+07

. 
. ****************************************************************************
. * Asset allocation
. ****************************************************************************
. 
. **Indian Household Finance Landscape (share)
. /*share of real estate on 
> real_estate (77%), durable good (7%), gold (11%) */
. 
. gen double re_share = real_estate/asset *100
(1,198 missing values generated)

. gen double du_share = durable_other/asset*100
(1,198 missing values generated)

. gen double gl_share = gold /asset*100
(1,198 missing values generated)

. 
. sum re_share du_share gl_share if head_age >= 24 & asset > 0  //gold is 11% closest with paper. 

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
    re_share |    107,856    77.25209    29.18087          0        100
    du_share |    107,856    6.310022    12.70273          0        100
    gl_share |    107,856    10.12939    19.24908          0        100

. sum re_share du_share gl_share [aw = hhwgt] if head_age >= 24 & asset > 0 

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
    re_share | 107,856   454809072    77.29683   29.92245          0        100
    du_share | 107,856   454809072    5.839521    12.1774          0        100
    gl_share | 107,856   454809072    11.29137   20.78646          0        100

. 
. **Indian Household Financing Landscape (Table 1)
. *Unweighted 
. tabstat asset, s(mean p50) format("%9.0fc")

    variable |      mean       p50
-------------+--------------------
       asset | 1,782,154   584,895
----------------------------------

. *Weighted
. global asset_table "asset_fin fin_retire asset_non_fin real_estate durable_other gold asset"

. 
. tabstat $asset_table [aw=hhwgt], s(mean p50) format("%15.0fc") 

   stats |  as~t_fin  fin_re~e  as~n_fin  real_e~e  durabl~r      gold     asset
---------+----------------------------------------------------------------------
    mean |         22,885         26,861      1,450,530      1,346,562         48,248         55,719      1,500,276
     p50 |          1,000              0        438,750        376,000          7,100         18,000        459,330
--------------------------------------------------------------------------------

. tabstat $asset_table [aw=pwgt], s(mean p50) format("%15.0fc") 

   stats |  as~t_fin  fin_re~e  as~n_fin  real_e~e  durabl~r      gold     asset
---------+----------------------------------------------------------------------
    mean |         21,282         26,363      1,683,881      1,567,126         58,634         58,121      1,731,527
     p50 |          1,210              0        538,000        468,900         14,900         20,000        558,200
--------------------------------------------------------------------------------

. 
. *write to the matrix
. preserve

. 
. keep if head_age >= 24 & asset > 0 
(2,944 observations deleted)

. 
. clear matrix

. eststo all: quietly estpost summarize $asset_table  [aw=hhwgt]

. 
. unab vars : $asset_table 

. local num : word count `vars'

. matrix m = J(`num',2,0)

. local i = 1

. 
. foreach var in $asset_table {
  2. qui sum `var' [aw=hhwgt],de
  3. matrix m[`i',1] = `r(mean)'
  4. matrix m[`i',2] = `r(p50)'
  5. local i = `i' + 1
  6. }

. 
. matrix rownames m = $asset_table

. matrix colnames m = mean p50

. matrix list m

m[7,2]
                   mean        p50
   asset_fin  23976.499       1200
  fin_retire  28267.597          0
asset_non_~n  1521485.6     476700
 real_estate    1412533     408000
durable_ot~r  50594.536       9500
        gold   58358.05      20000
       asset  1573729.7     500350

. 
. svmat m,names(col)

. keep mean p50

. keep if !mi(mean) | !mi(p50)
(107,849 observations deleted)

. gen name = _n

. save "${r_output}\m_asset",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Data Output Files\m_asset.dta saved

. 
. 
. *table 1 data to compare
. import excel "${r_input}\paper_tab_1.xlsx", sheet("Sheet1") firstrow clear

. save "${r_input}\tab_1.dta",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Raw Data & Dictionaries\tab_1.dta saved

. 
. keep if type == "asset"
(7 observations deleted)

. ren (mean p50)(mean_tb p50_tb)

. 
. merge 1:1 name using "${r_output}\m_asset"
(note: variable name was byte, now float to accommodate using data's values)

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                                 7  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. foreach v in mean p50 {
  2. gen double delta_`v' = (`v' - `v'_tb)/`v'_tb * 100
  3. format delta_`v' %9.0fc
  4. }
(1 missing value generated)

. 
. drop name type

. 
. list

     +------------------------------------------------------------------------------------+
     | mean_tb    p50_tb              name_full       mean      p50   delta_~n   delta~50 |
     |------------------------------------------------------------------------------------|
  1. |  24,681     1,350        Financial asset    23976.5     1200         -3        -11 |
  2. |  28,317         0    Retirement accounts    28267.6        0         -0          . |
  3. | 1528232   478,300   Non-financial assets    1521486   476700         -0         -0 |
  4. | 1441279   407,000        o/w Real estate    1412533   408000         -2          0 |
  5. |  58,660    11,680      o/w Durable goods   50594.54     9500        -14        -19 |
     |------------------------------------------------------------------------------------|
  6. |  58,292    20,000       o/w Gold/bullion   58358.05    20000          0          0 |
  7. | 1581228   501,880            Total asset    1573730   500350         -0         -0 |
     +------------------------------------------------------------------------------------+

. 
. restore

. 
. 
. 
. 
. ****************************************************************************
. * Liabilitiy allocation
. ****************************************************************************
. use "${r_output}\NSS70_All.dta",clear

. 
. **Indian Household Financing Landscape (share)
. //Liability allocation gold (4%), unsecured loan (55%), mortgage loan (23%)
. 
. *generate share of gold loan on total liability
. gen double gold_loan_share = total_gold_loan/total_debt
(65,549 missing values generated)

. gen double unsecure_share = total_unsecure_loan/total_debt
(65,549 missing values generated)

. gen mrtg_loan_share = total_mrtg_loan/total_debt
(65,549 missing values generated)

. 
. *Need to match 4%, 55% and 23% (only for households the date of survey liability is positive) 
. sum gold_loan_share unsecure_share mrtg_loan_share total_gold_loan total_unsecure_loan total_mrtg_loan [aw = pwgt] if head_age >= 24
>  & total_debt > 0

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
gold_loan_~e |  44,866   630792348    .0690838   .2370854          0          1
unsecure_s~e |  44,866   630792348    .5593858   .4750864          0          1
mrtg_loan_~e |  44,866   630792348     .235385   .4061757          0          1
total_gold~n |  44,866   630792348    10250.48   53899.88          0    2256000
total_unse~n |  44,866   630792348    59537.58   235053.2          0   1.64e+07
-------------+-----------------------------------------------------------------
total_mrtg~n |  44,866   630792348     83053.9   706915.8          0   1.83e+08

. sum gold_loan_share unsecure_share mrtg_loan_share total_gold_loan total_unsecure_loan total_mrtg_loan [aw = hhwgt] if head_age >= 2
> 4 & total_debt > 0

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
gold_loan_~e |  44,866   131560566      .07739   .2505816          0          1
unsecure_s~e |  44,866   131560566    .5563045   .4756352          0          1
mrtg_loan_~e |  44,866   131560566    .2283483   .4020819          0          1
total_gold~n |  44,866   131560566    11018.76    55068.9          0    2256000
total_unse~n |  44,866   131560566    59338.92   277057.6          0   1.64e+07
-------------+-----------------------------------------------------------------
total_mrtg~n |  44,866   131560566     86940.1   651197.6          0   1.83e+08

. sum gold_loan_share unsecure_share mrtg_loan_share total_gold_loan total_unsecure_loan total_mrtg_loan if head_age >= 24 & total_deb
> t > 0

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
gold_loan_~e |     44,866     .051595     .208666          0          1
unsecure_s~e |     44,866    .5390284     .481007          0          1
mrtg_loan_~e |     44,866    .2459538    .4160858          0          1
total_gold~n |     44,866    7160.496    47022.07          0    2256000
total_unse~n |     44,866    64410.36    255636.5          0   1.64e+07
-------------+---------------------------------------------------------
total_mrtg~n |     44,866    99142.26    985712.2          0   1.83e+08

. 
. **Indian Household Financing Landscape (Table 1)
. global lbt_table "total_secure_loan total_mrtg_loan total_gold_loan total_oth_secure_loan total_unsecure_loan total_debt"

. 
. *Unweighted 
. tabstat total_debt_todt total_debt total_gold_loan total_unsecure_loan total_mrtg_loan , s(mean p50) format("%9.0fc") 

   stats |  total~dt  total~bt  t~d_loan  t~unse~n  t~g_loan
---------+--------------------------------------------------
    mean |    99,085    82,683     2,913    26,462    40,540
     p50 |    11,000         0         0         0         0
------------------------------------------------------------

. *Weighted
. tabstat total_debt_todt total_debt total_gold_loan total_unsecure_loan total_mrtg_loan [aw=hhwgt], s(mean p50) format("%9.0fc") 

   stats |  total~dt  total~bt  t~d_loan  t~unse~n  t~g_loan
---------+--------------------------------------------------
    mean |    60,904    49,879     3,036    16,802    24,193
     p50 |         0         0         0         0         0
------------------------------------------------------------

. 
. *write to the matrix
. preserve

. 
. keep if head_age >= 24 & total_debt > 0 //in paper: keep households with head older than 24.
(65,934 observations deleted)

. 
. clear matrix

. eststo all: quietly estpost summarize $lbt_table  [aw=hhwgt]

. 
. unab vars : $lbt_table 

. local num : word count `vars'

. matrix m = J(`num',2,0)

. local i = 1

. 
. foreach var in $lbt_table {
  2. qui sum `var' [aw=hhwgt],de
  3. matrix m[`i',1] = `r(mean)'
  4. matrix m[`i',2] = `r(p50)'
  5. local i = `i' + 1
  6. }

. 
. matrix rownames m = $lbt_table

. matrix colnames m = mean p50

. matrix list m

m[6,2]
                   mean        p50
total_secu~n  121468.01          0
total_mrtg~n  86940.096          0
total_gold~n  11018.761          0
total_oth_~n   23509.15          0
total_unse~n  59338.919      11200
  total_debt  180806.93      52000

. 
. svmat m,names(col)

. keep mean p50

. keep if !mi(mean) | !mi(p50)
(44,860 observations deleted)

. gen name = _n

. save "${r_output}\m_liability",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Data Output Files\m_liability.dta saved

. 
. **Table 1. 
. import excel "${r_input}\paper_tab_1.xlsx", sheet("Sheet1") firstrow clear

. save "${r_input}\tab_1.dta",replace
file C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\nss_data\NSS70\Raw Data & Dictionaries\tab_1.dta saved

. 
. keep if type == "liability"
(7 observations deleted)

. ren (mean p50)(mean_tb p50_tb)

. 
. merge 1:1 name using "${r_output}\m_liability"
(note: variable name was byte, now float to accommodate using data's values)

    Result                           # of obs.
    -----------------------------------------
    not matched                             1
        from master                         1  (_merge==1)
        from using                          0  (_merge==2)

    matched                                 6  (_merge==3)
    -----------------------------------------

. drop _merge

. 
. foreach v in mean p50 {
  2. gen double delta_`v' = (`v' - `v'_tb)/`v'_tb * 100
  3. format delta_`v' %9.0fc
  4. }
(1 missing value generated)
(5 missing values generated)

. 
. drop name type

. 
. list

     +----------------------------------------------------------------------------------------+
     | mean_tb   p50_tb                    name_full       mean     p50   delta_~n   delta~50 |
     |----------------------------------------------------------------------------------------|
  1. | 120,845        0                Secured loans     121468       0          1          . |
  2. |  86,631        0           o/w Mortgage loans   86940.09       0          0          . |
  3. |  10,817        0               o/w Gold loans   11018.76       0          2          . |
  4. |  23,397        0      o/w Other secured loans   23509.15       0          0          . |
  5. |  59,308   11,250              Unsecured loans   59338.92   11200          0         -0 |
     |----------------------------------------------------------------------------------------|
  6. | 180,153   51,614                   Total debt   180806.9   52000          0          1 |
  7. |  49,108    8,000   o/w Non-institutional debt          .       .          .          . |
     +----------------------------------------------------------------------------------------+

. restore

. 
. 
. 
. ****************************************************************************
. * Liabilitiy allocation (value weighted) on 
. * unsecured and gold (35% written in paper), mortgage loan (46% extract using )
. ****************************************************************************
. 
. use "${r_input}\Visit 1_Block 14",clear

. 
. *debt 
. gen debt = b14_q17 // 17 is on 30.06.2012
(74,953 missing values generated)

. 
. gen temp_debt_todt = (b14_q1 == "99")*b14_q16 //to date of survey the total debt. 
(2,415 missing values generated)

. egen double total_debt_todt = sum(temp_debt_todt), by(HHID)

. drop temp_debt_todt

. 
. *merge with households information
. merge m:1 HHID using "${root}\Data Output Files\NSS70_All.dta"

    Result                           # of obs.
    -----------------------------------------
    not matched                        37,080
        from master                         0  (_merge==1)
        from using                     37,080  (_merge==2)

    matched                           183,709  (_merge==3)
    -----------------------------------------

. 
. *in paper: keep households with head older than 24.
. drop if b14_q1 == "99"
(73,266 observations deleted)

. keep if head_age >= 24
(2,455 observations deleted)

. keep if total_debt_todt > 0 & !mi(total_debt_todt) //the date of survey liability is positive. 
(37,153 observations deleted)

. 
. 
. *Recode security type 
. gen liability_type = real(b14_q12)

. recode liability_type (1 2 6 7 8 9 = 1) (3 4 = 2) (5 =3) (10=4)
(liability_type: 101239 changes made)

. label define liability_type 1 "Secured" 2 "Mortgage" 3 "Gold" 4 "Unsecured"

. 
. *Unweighted Sums
. egen double debt_type_total = sum(debt), by(liability_type)

. egen double debt_total = sum(debt)

. gen debt_share_panel_b = 100 * debt_type_total / debt_total

. table liability_type, c(mean debt_share_panel_b sd debt_share_panel_b ) format("%9.0f") // get 16, 49 (mortgage), 4, 32 => so gold+u
> nsec = 36

------------------------------------------
liability |
_type     | mean(debt_s~b)    sd(debt_s~b)
----------+-------------------------------
        1 |             16               0
        2 |             49               0
        3 |              4               0
        4 |             32               0
------------------------------------------

. 
. *Weighted Sums  
. egen double debt_type_total_wt = sum(debt * hhwgt), by(liability_type)

. egen double debt_total_wt = sum(debt*hhwgt)

. gen debt_share_panel_b_wt = 100 * debt_type_total_wt/ debt_total_wt

. table liability_type, c(mean debt_share_panel_b_wt sd debt_share_panel_b_wt ) format("%9.0f") // get 13, 48 (mortgage), 6, 33 => so 
> gold+unsec = 39

------------------------------------------
liability |
_type     | mean(debt_s~t)    sd(debt_s~t)
----------+-------------------------------
        1 |             13               0
        2 |             48               0
        3 |              6               0
        4 |             33               0
------------------------------------------

. 
. 
. log close
      name:  <unnamed>
       log:  C:\Users\wb500886\OneDrive - WBG\7_Housing\survey_all\Housing_git\nss\Survey_NSS\02_NSS 70_Compare_Stats.log
  log type:  text
 closed on:  15 Nov 2020, 21:57:53
--------------------------------------------------------------------------------------------------------------------------------------
